<modification>
    <name><![CDATA[ArunaCustomCode]]></name>
    <code><![CDATA[ArunaCustomCode1.0.0]]></code>
    <version><![CDATA[1.0.0]]></version>
    <author>ArunaTeam</author>
    <file path="catalog/view/theme/*/template/common/header.twig">
	<operation error="skip"> 
	    <search><![CDATA[</head>]]></search>
	    <add offset="0" position="before"><![CDATA[
	    <script src="?route=service_worker" type="text/javascript"></script>
	    <script type="text/javascript">
		if ( localStorage.getItem("disableSW")!=1 && ('serviceWorker' in navigator) ) {
		    navigator.serviceWorker.register('?route=service_worker', {scope: './'})
		    .then(function(reg) {
			//console.log('serviceWorker Registration succeeded. Scope is ' + reg.scope);
		    }).catch(function(error) {
			console.log('serviceWorker Registration failed with ' + error);
		    });
		    navigator.serviceWorker.addEventListener('message',function(event){
			var msg=event.data;
			console.log(msg);
		    });
		}
	    </script>
	    ]]></add>
	</operation>
    </file>
</modification>
